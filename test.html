<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Portal</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f0f0f5;
      color: #2c3e50;
    }

    .breadcrumb {
      padding: 10px 20px;
      background-color: #000aba;
      color: white;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .breadcrumb a {
      text-decoration: none;
      color: white;
      margin-right: 10px;
    }

    .breadcrumb a:hover {
      text-decoration: underline;
    }

    .progress-bar {
      height: 5px;
      background-color: #28a745;
      width: 0%;
      transition: width 0.4s ease;
    }

    .container {
      padding: 30px;
      max-width: 800px;
      margin: auto;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    h2 {
      color: #34495e;
      text-align: center;
      font-weight: 600;
      margin-bottom: 30px;
    }

    .subject-card {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .card {
      width: 48%;
      background-color: #007bff;
      color: white;
      padding: 20px;
      margin-bottom: 20px;
      text-align: center;
      cursor: pointer;
      border-radius: 10px;
      transition: background-color 0.3s ease;
    }

    .card:hover {
      background-color: #0056b3;
    }

    .quiz-area {
      display: none;
    }

    .question {
      margin-bottom: 20px;
      padding: 20px;
      border-radius: 10px;
      background-color: #f8f9fa;
      border: 1px solid #e3e3e3;
    }

    .question h4 {
      margin: 0;
      font-size: 18px;
      color: #34495e;
    }

    .options label {
      display: block;
      margin: 10px 0;
      cursor: pointer;
    }

    .options input {
      margin-right: 10px;
    }

    .timer {
      text-align: right;
      font-weight: bold;
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #dc3545;
    }

    .timer i {
      margin-right: 5px;
      color: #dc3545;
    }


    
    #timer {
    position: fixed; /* Fixes the timer in place */
    top: 5%; /* Position it at the center vertically */
    left: 50%; /* Position it at the center horizontally */
    transform: translate(-50%, -50%); /* Adjust position to truly center it */
    background-color: #fff; /* Background color */
    color: red; /* Text color for better visibility */
    padding: 10px; /* Adds some padding around the timer */
    width: 50%;
    border-radius: 5px; /* Rounded corners */
    font-size: 18px; /* Increase font size for visibility */
    z-index: 1000; /* Ensure it's above other elements */
    text-align: center; /* Center the text */
  }


    .submit-btn, .home-btn {
      width: 100%;
      background-color: #000aba;
      color: white;
      padding: 15px;
      border: none;
      cursor: pointer;
      border-radius: 10px;
      font-size: 16px;
      margin-top: 10px;
      transition: background-color 0.3s ease;
    }

    .submit-btn:hover, .home-btn:hover {
      background-color: #218838;
    }

    .result {
      display: none;
      margin-top: 30px;
    }

    .result p {
      margin-bottom: 15px;
    }

    .result .correct {
      color: #28a745;
    }

    .result .incorrect {
      color: #dc3545;
    }

    .result .answer {
      font-weight: bold;
    }

    .well-done {
      display: none;
      text-align: center;
      margin-top: 30px;
    }

    .well-done h3 {
      color: #28a745;
    }

    @media (max-width: 768px) {
      .card {
        width: 100%;
      }
    }
</style>

<!-- Breadcrumb navigation -->
<div class="breadcrumb">
  <div>
    <a href="#" onclick="goHome()">Home</a> <span>&gt;</span> <a href="#">Quiz Portal</a>
  </div>
  <div class="progress-bar" id="progress-bar"></div>
</div>

<div class="container">
  <h2 id="subject-header">Select a Subject</h2>
  <div class="subject-card">
    <div class="card" onclick="loadQuiz('mathematics')">Mathematics</div>
    <div class="card" onclick="loadQuiz('science')">Integrated Science</div>
    <div class="card" onclick="loadQuiz('social')">Social Studies</div>
    <div class="card" onclick="loadQuiz('english')">English Language</div>
  </div>

  <!-- Quiz Area -->
  <div class="quiz-area" id="quiz-area">
    <div class="timer" id="timer">
      <i class="icon-clock">&#9200;</i> Time Left: 20:00
    </div>
    <form id="quiz-form">
      <!-- Questions will be dynamically loaded here -->
    </form>
    <button class="submit-btn" onclick="submitQuiz()">Submit Quiz</button>
  </div>

  <!-- Result Area -->
  <div class="result" id="result-area">
    <h3>Your Score:</h3>
    <p id="score"></p>
    <h4>Corrections:</h4>
    <div id="corrections"></div>
    <button class="home-btn" onclick="goHome()">Home</button>
  </div>

  <!-- Well Done Message -->
  <div class="well-done" id="well-done">
    <h3>Congratulations! You answered all questions correctly!</h3>
    <button class="home-btn" onclick="goHome()">Home</button>
  </div>
</div>
<script>
  let timer;
  let timeRemaining = 1200; // 20 minutes
  let selectedSubject = '';
  const questionsPerQuiz = 20;
  let questions = {
    mathematics: [
      { q: "What is 2 + 2?", options: ["A. 3", "B. 4", "C. 5", "D. 6"], answer: "B", explanation: "B (4 is the sum of 2 and 2)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
      { q: "What is 5 * 5?", options: ["A. 20", "B. 30", "C. 25", "D. 35"], answer: "C", explanation: "C (5 multiplied by 5 equals 25)." },
    ],
    science: [  // Lowercase "science"
      { q: "What is H2O?", options: ["A. Oxygen", "B. Hydrogen", "C. Water", "D. Carbon"], answer: "C", explanation: "C (H2O is the chemical formula for water)." },
      { q: "What is the chemical symbol for Sodium?", options: ["A. Na", "B. S", "C. Cl", "D. O"], answer: "A", explanation: "A (Na is the chemical symbol for Sodium)." },
    ],
    // Add more subjects as needed...
  };

  // Function to reset and start the timer
  function startTimer() {
    clearInterval(timer); // Ensure no previous timer is running
    timeRemaining = 1200; // Reset time to 20 minutes
    timer = setInterval(() => {
      timeRemaining--;
      const minutes = Math.floor(timeRemaining / 60);
      const seconds = timeRemaining % 60;
      document.getElementById('timer').innerHTML = `<i class="icon-clock">&#9200;</i> Time Left: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
      if (timeRemaining <= 0) {
        clearInterval(timer);
        submitQuiz(); // Auto-submit when time runs out
      }
    }, 1000);
  }

  // Load quiz for the selected subject
  function loadQuiz(subject) {
    resetQuiz(); // Reset quiz and timer when new subject is selected
    selectedSubject = subject.toLowerCase(); // Ensure subject key is lowercase
    document.querySelector('.subject-card').style.display = 'none';
    document.getElementById('subject-header').style.display = 'none';

    const quizForm = document.getElementById('quiz-form');
    quizForm.innerHTML = '';
    const selectedQuestions = questions[selectedSubject].slice(0, questionsPerQuiz);

    selectedQuestions.forEach((item, index) => {
      const questionHTML = 
        `<div class="question">
          <h4>Q${index + 1}. ${item.q}</h4>
          <div class="options">
            <label><input type="radio" name="q${index}" value="A"> ${item.options[0]}</label>
            <label><input type="radio" name="q${index}" value="B"> ${item.options[1]}</label>
            <label><input type="radio" name="q${index}" value="C"> ${item.options[2]}</label>
            <label><input type="radio" name="q${index}" value="D"> ${item.options[3]}</label>
          </div>
        </div>`;
      quizForm.innerHTML += questionHTML;
    });

    document.getElementById('quiz-area').style.display = 'block';
    startTimer(); // Start the timer when a subject is selected
  }

  // Submit the quiz and reset the timer
  function submitQuiz() {
    clearInterval(timer); // Stop the timer on quiz submission
    const quizForm = document.getElementById('quiz-form');
    const formData = new FormData(quizForm);
    let score = 0;
    let corrections = '';
    let allCorrect = true;

    const selectedQuestions = questions[selectedSubject].slice(0, questionsPerQuiz);
    selectedQuestions.forEach((item, index) => {
      const userAnswer = formData.get(`q${index}`);
      if (userAnswer === item.answer) {
        score++;
        corrections += `<p>Q${index + 1}: <span class="correct">Correct</span>. <span class="answer">${item.answer}</span> (${item.explanation})</p>`;
      } else {
        allCorrect = false;
        corrections += `<p>Q${index + 1}: <span class="incorrect">Wrong</span>. Correct answer is <span class="answer">${item.answer}</span> (${item.explanation})</p>`;
      }
    });

    document.getElementById('score').innerText = `${score}/${questionsPerQuiz}`;
    document.getElementById('corrections').innerHTML = corrections;
    document.getElementById('quiz-area').style.display = 'none';
    document.getElementById('result-area').style.display = 'block';

    if (allCorrect) {
      document.getElementById('result-area').style.display = 'none';
      document.getElementById('well-done').style.display = 'block';
    }

    updateProgressBar(score / questionsPerQuiz * 100);
    resetQuiz(); // Reset the quiz and timer after submission
  }

  // Function to reset the quiz and timer
  function resetQuiz() {
    clearInterval(timer); // Clear any active timer
    timeRemaining = 1200; // Reset the timer to 20 minutes
    document.getElementById('timer').innerHTML = `<i class="icon-clock">&#9200;</i> Time Left: 20:00`; // Reset timer display
    currentQuestionIndex = 0;
    updateProgressBar(0); // Reset progress bar
    document.getElementById('quiz-form').innerHTML = ''; // Clear quiz form for new questions
  }

  // Update the progress bar based on quiz performance
  function updateProgressBar(percentage) {
    const progressBar = document.getElementById('progress-bar');
    progressBar.style.width = `${percentage}%`;
  }

  // Navigate back to the home screen and reset the timer
  function goHome() {
    clearInterval(timer); // Stop the timer when returning home
    resetQuiz(); // Reset quiz when returning to home
    document.querySelector('.subject-card').style.display = 'flex';
    document.getElementById('subject-header').style.display = 'block';
    document.getElementById('quiz-area').style.display = 'none';
    document.getElementById('result-area').style.display = 'none';
    document.getElementById('well-done').style.display = 'none';
  }
</script>

</body>
</html>
